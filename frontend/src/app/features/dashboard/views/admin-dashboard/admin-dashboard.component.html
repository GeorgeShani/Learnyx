<div class="admin-dashboard">
  <!-- Header -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="dashboard-title">Admin Dashboard</h1>
      <p class="dashboard-subtitle">
        Manage your learning platform with comprehensive tools and insights
      </p>
    </div>
    <div class="header-actions">
      <button class="btn btn-outline">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
          <polyline points="7,10 12,15 17,10"/>
          <line x1="12" y1="15" x2="12" y2="3"/>
        </svg>
        Export Data
      </button>
      <button class="btn btn-primary">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <line x1="19" y1="8" x2="19" y2="14"/>
          <line x1="22" y1="11" x2="16" y2="11"/>
        </svg>
        Add User
      </button>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <div class="stat-card" *ngFor="let stat of stats">
      <div class="stat-content">
        <div class="stat-info">
          <p class="stat-label">{{ stat.label }}</p>
          <p class="stat-value">{{ stat.value }}</p>
          <p class="stat-change" [ngClass]="{ 'failed': stat.trend === 'down' }">
            <ng-container *ngIf="stat.trend === 'up'">
              <svg class="trend-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                <polyline points="17,6 23,6 23,12"/>
              </svg>
              +{{ stat.change }}% from last month
            </ng-container>
            <ng-container *ngIf="stat.trend === 'down'">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-down-icon lucide-trending-down">
                <path d="M16 17h6v-6"/>
                <path d="m22 17-8.5-8.5-5 5L2 7"/>
              </svg>
              -{{ stat.change }}% from last month
            </ng-container>
          </p>
        </div>
        <div class="stat-icon">
          <div [innerHTML]="stat.iconSvg"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Tabs -->
  <div class="tabs-container">
    <div class="tabs-list">
      <button 
        class="tab-trigger" 
        [class.active]="activeTab === 'overview'"
        (click)="setActiveTab('overview')">
        Overview
      </button>
      <button 
        class="tab-trigger" 
        [class.active]="activeTab === 'users'"
        (click)="setActiveTab('users')">
        User Management
      </button>
      <button 
        class="tab-trigger" 
        [class.active]="activeTab === 'courses'"
        (click)="setActiveTab('courses')">
        Course Approval
      </button>
      <button 
        class="tab-trigger" 
        [class.active]="activeTab === 'analytics'"
        (click)="setActiveTab('analytics')">
        Analytics
      </button>
      <button 
        class="tab-trigger" 
        [class.active]="activeTab === 'system'"
        (click)="setActiveTab('system')">
        System Health
      </button>
    </div>

    <!-- Overview Tab -->
    <div class="tab-content" *ngIf="activeTab === 'overview'">
      <div class="overview-grid">
        <!-- Recent Activity -->
        <div class="activity-card">
          <div class="card-header">
            <div class="header-info">
              <h3 class="card-title">Recent Activity</h3>
              <p class="card-description">Latest platform activities and updates</p>
            </div>
          </div>
          <div class="card-content">
            <div class="activity-item" *ngFor="let user of recentUsers.slice(0, 3)">
              <div class="activity-info">
                <div class="user-avatar">
                  {{ user.name.charAt(0) }}
                </div>
                <div class="user-details">
                  <p class="user-name">{{ user.name }}</p>
                  <p class="user-role">Joined as {{ user.role }}</p>
                </div>
              </div>
              <div class="activity-badge">{{ user.joinDate }}</div>
            </div>
          </div>
        </div>

        <!-- System Alerts -->
        <div class="alerts-card">
          <div class="card-header">
            <div class="header-info">
              <h3 class="card-title">System Alerts</h3>
              <p class="card-description">Important system notifications and warnings</p>
            </div>
          </div>
          <div class="card-content">
            <div class="alert-item" *ngFor="let alert of systemAlerts">
              <div class="alert-indicator" [class]="'alert-' + alert.type"></div>
              <div class="alert-content">
                <p class="alert-message">{{ alert.message }}</p>
                <p class="alert-time">{{ alert.time }}</p>
              </div>
              <svg class="alert-icon" [class]="'alert-icon-' + alert.type" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/>
                <path d="M12 9v4"/>
                <path d="m12 17 .01 0"/>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Users Tab -->
    <div class="tab-content" *ngIf="activeTab === 'users'">
      <div class="users-card">
        <div class="card-header">
          <div class="header-info">
            <h3 class="card-title">User Management</h3>
            <p class="card-description">Manage all platform users and their permissions</p>
          </div>
          <div class="header-actions">
            <div class="search-container">
              <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.35-4.35"/>
              </svg>
              <input 
                type="text" 
                placeholder="Search users..." 
                [(ngModel)]="searchQuery"
                (input)="onSearchInput()"
                class="search-input"
              />
            </div>
            <button class="btn btn-outline">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46 22,3"/>
              </svg>
              Filter
            </button>
          </div>
        </div>
        <div class="card-content">
          <div class="table-container">
            <table class="users-table">
              <thead>
                <tr>
                  <th>User</th>
                  <th>Role</th>
                  <th>Status</th>
                  <th>Courses</th>
                  <th>Join Date</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of recentUsers">
                  <td>
                    <div class="user-cell">
                      <div class="user-avatar">{{ user.name.charAt(0) }}</div>
                      <div class="user-info">
                        <p class="user-name">{{ user.name }}</p>
                        <p class="user-email">{{ user.email }}</p>
                      </div>
                    </div>
                  </td>
                  <td>
                    <span class="badge badge-secondary">{{ user.role }}</span>
                  </td>
                  <td>
                    <span class="badge" [class]="user.status === 'Active' ? 'badge-success' : 'badge-secondary'">
                      {{ user.status }}
                    </span>
                  </td>
                  <td>{{ user.courses }}</td>
                  <td>{{ user.joinDate }}</td>
                  <td>
                    <div class="dropdown" [class.open]="openDropdown === user.id">
                      <button class="dropdown-trigger" (click)="toggleDropdown(user.id)">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <circle cx="12" cy="12" r="1"/>
                          <circle cx="19" cy="12" r="1"/>
                          <circle cx="5" cy="12" r="1"/>
                        </svg>
                      </button>
                      <div class="dropdown-menu">
                        <button class="dropdown-item" (click)="viewProfile(user.id)">
                          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                            <circle cx="12" cy="12" r="3"/>
                          </svg>
                          View Profile
                        </button>
                        <button class="dropdown-item" (click)="editUser(user.id)">Edit User</button>
                        <button class="dropdown-item danger" (click)="suspendUser(user.id)">Suspend User</button>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Courses Tab -->
    <div class="tab-content" *ngIf="activeTab === 'courses'">
      <div class="courses-card">
        <div class="card-header">
          <div class="header-info">
            <h3 class="card-title">Course Approval Queue</h3>
            <p class="card-description">Review and approve pending course submissions</p>
          </div>
        </div>
        <div class="card-content">
          <div class="course-item" *ngFor="let course of pendingCourses">
            <div class="course-info">
              <h4 class="course-title">{{ course.title }}</h4>
              <p class="course-details">
                by {{ course.instructor }} • {{ course.category }} • Submitted {{ course.submittedAt }}
              </p>
            </div>
            <div class="course-actions">
              <span class="badge" [class]="course.status === 'pending' ? 'badge-secondary' : 'badge-primary'">
                {{ course.status }}
              </span>
              <div class="action-buttons">
                <button class="btn btn-sm btn-outline">
                  <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </button>
                <button class="btn btn-sm btn-success">
                  <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20,6 9,17 4,12"/>
                  </svg>
                </button>
                <button class="btn btn-sm btn-danger">
                  <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Analytics Tab -->
    <div class="tab-content" *ngIf="activeTab === 'analytics'">
      <div class="analytics-grid">
        <div class="chart-card">
          <div class="card-header">
            <div class="header-info">
              <h3 class="card-title">Revenue Analytics</h3>
              <p class="card-description">Monthly revenue trends and projections</p>
            </div>
          </div>
          <div class="card-content">
            <div class="chart-placeholder">
              <p>Revenue Chart Placeholder</p>
            </div>
          </div>
        </div>

        <div class="chart-card">
          <div class="card-header">
            <div class="header-info">
              <h3 class="card-title">User Growth</h3>
              <p class="card-description">User registration and activity trends</p>
            </div>
          </div>
          <div class="card-content">
            <div class="chart-placeholder">
              <p>User Growth Chart Placeholder</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- System Tab -->
    <div class="tab-content" *ngIf="activeTab === 'system'">
      <div class="system-grid">
        <div class="system-card">
          <div class="card-header">
            <div class="header-info">
              <h3 class="card-title">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                </svg>
                Server Health
              </h3>
            </div>
          </div>
          <div class="card-content">
            <div class="metric-item">
              <div class="metric-info">
                <span class="metric-label">CPU Usage</span>
                <span class="metric-value">45%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" [style.width]="'45%'"></div>
              </div>
            </div>
            <div class="metric-item">
              <div class="metric-info">
                <span class="metric-label">Memory Usage</span>
                <span class="metric-value">68%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" [style.width]="'68%'"></div>
              </div>
            </div>
            <div class="metric-item">
              <div class="metric-info">
                <span class="metric-label">Disk Usage</span>
                <span class="metric-value">32%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" [style.width]="'32%'"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="system-card">
          <div class="card-header">
            <h3 class="card-title">Database Status</h3>
          </div>
          <div class="card-content">
            <div class="status-item">
              <span class="status-label">Connection Pool</span>
              <span class="badge badge-success">Healthy</span>
            </div>
            <div class="status-item">
              <span class="status-label">Query Performance</span>
              <span class="badge badge-success">Good</span>
            </div>
            <div class="status-item">
              <span class="status-label">Backup Status</span>
              <span class="badge badge-success">Up to Date</span>
            </div>
            <div class="status-item">
              <span class="status-label">Replication</span>
              <span class="badge badge-success">Synced</span>
            </div>
          </div>
        </div>

        <div class="system-card">
          <div class="card-header">
            <h3 class="card-title">Security</h3>
          </div>
          <div class="card-content">
            <div class="status-item">
              <span class="status-label">SSL Certificate</span>
              <span class="badge badge-success">Valid</span>
            </div>
            <div class="status-item">
              <span class="status-label">Firewall</span>
              <span class="badge badge-success">Active</span>
            </div>
            <div class="status-item">
              <span class="status-label">DDoS Protection</span>
              <span class="badge badge-success">Enabled</span>
            </div>
            <div class="status-item">
              <span class="status-label">Failed Logins</span>
              <span class="badge badge-secondary">3 today</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
