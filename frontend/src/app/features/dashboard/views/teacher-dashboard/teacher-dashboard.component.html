<div class="dashboard-container">
  <div class="dashboard-header">
    <div class="header-content">
      <div class="header-main">
        <div class="teacher-info">
          <div class="teacher-avatar">
            <img [src]="teacher.avatar" [alt]="teacher.name" />
            <div *ngIf="!teacher.avatar" class="avatar-fallback">
              {{ getInitials(teacher.name) }}
            </div>
          </div>
          <div class="teacher-details">
            <h1>Welcome, {{ teacher.name }}!</h1>
            <p>{{ teacher.title }} â€¢ Teaching since {{ teacher.joinDate }}</p>
          </div>
        </div>

        <div class="header-actions">
          <button class="btn btn-outline">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-settings-icon lucide-settings"
            >
              <path
                d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"
              />
              <circle cx="12" cy="12" r="3" />
            </svg>
            Settings
          </button>
          <button class="btn btn-primary" (click)="navigateToCreateCourse()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-plus-icon lucide-plus"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
            Create Course
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="dashboard-content">
    <div class="tabs-container">
      <div class="tabs-list">
        <button
          *ngFor="let tab of tabs"
          class="tab-trigger"
          [class.active]="activeTab === tab.value"
          (click)="setActiveTab(tab.value)"
        >
          {{ tab.label }}
        </button>
      </div>

      <!-- Overview Tab -->
      <div *ngIf="activeTab === 'overview'" class="tab-content">
        <!-- Stats Cards -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-content">
              <div class="stat-info">
                <p class="stat-label">Total Students</p>
                <p class="stat-value">{{ teacher.totalStudents | number }}</p>
              </div>
              <div class="stat-icon primary">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="#ffffff"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-users-icon lucide-users"
                >
                  <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                  <path d="M16 3.128a4 4 0 0 1 0 7.744" />
                  <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                  <circle cx="9" cy="7" r="4" />
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-content">
              <div class="stat-info">
                <p class="stat-label">Total Revenue</p>
                <p class="stat-value">${{ teacher.totalRevenue | number }}</p>
              </div>
              <div class="stat-icon progress">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="#ffffff"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-dollar-sign-icon lucide-dollar-sign"
                >
                  <line x1="12" x2="12" y1="2" y2="22" />
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-content">
              <div class="stat-info">
                <p class="stat-label">Course Rating</p>
                <p class="stat-value">{{ teacher.rating }}</p>
              </div>
              <div class="stat-icon yellow">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="#ffffff"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-star-icon lucide-star"
                >
                  <path
                    d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
                  />
                </svg>
              </div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-content">
              <div class="stat-info">
                <p class="stat-label">Active Courses</p>
                <p class="stat-value">{{ teacher.totalCourses }}</p>
              </div>
              <div class="stat-icon purple">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="#ffffff"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-book-open-icon lucide-book-open"
                >
                  <path d="M12 7v14" />
                  <path
                    d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"
                  />
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="main-content-grid">
          <!-- Recent Activity -->
          <div class="activity-section">
            <h2>Recent Activity</h2>
            <div class="activity-card">
              <div class="activity-list">
                <div
                  *ngFor="let activity of recentActivity"
                  class="activity-item"
                >
                  <div class="icon" [innerHTML]="activity.icon"></div>
                  <div class="activity-details">
                    <p>{{ activity.message }}</p>
                    <p class="activity-time">{{ activity.time }}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Top Courses -->
            <h2 class="section-title">Top Performing Courses</h2>
            <div class="top-courses">
              <div *ngFor="let course of getTopCourses()" class="course-card">
                <div class="course-content">
                  <img
                    [src]="course.image"
                    [alt]="course.title"
                    class="course-image"
                  />
                  <div class="course-info">
                    <h3>{{ course.title }}</h3>
                    <div class="course-stats">
                      <div class="stat">
                        <p class="stat-label">Students</p>
                        <p class="stat-value">{{ course.students | number }}</p>
                      </div>
                      <div class="stat">
                        <p class="stat-label">Rating</p>
                        <p class="stat-value">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="#eab308"
                            stroke="#eab308"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-star-icon lucide-star"
                          >
                            <path
                              d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
                            />
                          </svg>
                          {{ course.rating }}
                        </p>
                      </div>
                      <div class="stat">
                        <p class="stat-label">Revenue</p>
                        <p class="stat-value">${{ course.revenue | number }}</p>
                      </div>
                      <div class="stat">
                        <p class="stat-label">Status</p>
                        <span class="badge success">{{ course.status }}</span>
                      </div>
                    </div>
                  </div>
                  <button
                    class="btn btn-outline btn-sm"
                    (click)="editCourse(course.id)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-pencil-icon lucide-pencil"
                    >
                      <path
                        d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
                      />
                      <path d="m15 5 4 4" />
                    </svg>
                    Edit
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="sidebar">
            <!-- Quick Actions -->
            <div class="sidebar-card">
              <h3>Quick Actions</h3>
              <div class="quick-actions">
                <button class="action-btn" (click)="navigateToCreateCourse()">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-plus-icon lucide-plus"
                  >
                    <path d="M5 12h14" />
                    <path d="M12 5v14" />
                  </svg>
                  Create New Course
                </button>
                <button class="action-btn">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-message-circle-icon lucide-message-circle"
                  >
                    <path
                      d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"
                    />
                  </svg>
                  Answer Questions
                </button>
                <button class="action-btn">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-chart-column-icon lucide-chart-column"
                  >
                    <path d="M3 3v16a2 2 0 0 0 2 2h16" />
                    <path d="M18 17V9" />
                    <path d="M13 17V5" />
                    <path d="M8 17v-3" />
                  </svg>
                  View Analytics
                </button>
                <button class="action-btn">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-download-icon lucide-download"
                  >
                    <path d="M12 15V3" />
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    <path d="m7 10 5 5 5-5" />
                  </svg>
                  Download Reports
                </button>
              </div>
            </div>

            <!-- Pending Tasks -->
            <div class="sidebar-card">
              <h3>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-clock-icon lucide-clock"
                >
                  <path d="M12 6v6l4 2" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                Pending Tasks
              </h3>
              <div class="pending-tasks">
                <div *ngFor="let task of pendingTasks" class="task-item">
                  <div class="task-info">
                    <p class="task-title">{{ task.task }}</p>
                    <p class="task-due">{{ task.dueDate }}</p>
                  </div>
                  <span [class]="'badge priority-' + task.priority">{{
                    task.priority
                  }}</span>
                </div>
              </div>
            </div>

            <!-- Monthly Revenue -->
            <div class="sidebar-card">
              <h3>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-trending-up-icon lucide-trending-up"
                >
                  <path d="M16 7h6v6" />
                  <path d="m22 7-8.5 8.5-5-5L2 17" />
                </svg>
                This Month
              </h3>
              <div class="monthly-revenue">
                <div class="revenue-amount">
                  ${{ teacher.monthlyRevenue | number }}
                </div>
                <p class="revenue-label">Revenue this month</p>
                <div class="revenue-stats">
                  <div class="growth">
                    <div class="growth-value">+12%</div>
                    <div class="growth-label">vs last month</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- My Courses Tab -->
      <div *ngIf="activeTab === 'courses'" class="tab-content">
        <div class="courses-header">
          <h2>My Courses</h2>
          <button class="btn btn-primary" (click)="navigateToCreateCourse()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-plus-icon lucide-plus"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>
            Create New Course
          </button>
        </div>

        <div class="courses-grid">
          <div *ngFor="let course of myCourses" class="course-card-detailed">
            <div class="course-image-container">
              <img [src]="course.image" [alt]="course.title" />
              <span [class]="'status-badge ' + course.status">{{
                course.status
              }}</span>
            </div>

            <div class="course-details">
              <h3>{{ course.title }}</h3>

              <div class="course-metrics">
                <div class="metric">
                  <p class="metric-label">Students</p>
                  <p class="metric-value">{{ course.students | number }}</p>
                </div>
                <div class="metric">
                  <p class="metric-label">Revenue</p>
                  <p class="metric-value">${{ course.revenue | number }}</p>
                </div>
                <div class="metric">
                  <p class="metric-label">Rating</p>
                  <p class="metric-value">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="#eab308"
                      stroke="#eab308"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="lucide lucide-star-icon lucide-star"
                    >
                      <path
                        d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
                      />
                    </svg>
                    {{ course.rating || "N/A" }}
                  </p>
                </div>
                <div class="metric">
                  <p class="metric-label">Lessons</p>
                  <p class="metric-value">{{ course.lessons }}</p>
                </div>
              </div>

              <p class="last-updated">Updated {{ course.lastUpdated }}</p>

              <div class="course-actions">
                <button
                  class="btn btn-primary btn-sm"
                  (click)="editCourse(course.id)"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-pencil-icon lucide-pencil"
                  >
                    <path
                      d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
                    />
                    <path d="m15 5 4 4" />
                  </svg>
                  Edit
                </button>
                <button
                  class="btn btn-outline btn-sm"
                  (click)="viewCourse(course.id)"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-eye-icon lucide-eye"
                  >
                    <path
                      d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"
                    />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                  View
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Tab -->
      <div *ngIf="activeTab === 'analytics'" class="tab-content">
        <div class="analytics-stats">
          <div class="analytics-card">
            <div class="analytics-content">
              <div class="analytics-info">
                <p class="analytics-label">Total Views</p>
                <p class="analytics-value">
                  {{ analytics.totalViews | number }}
                </p>
              </div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#5BCBF1"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-eye-icon lucide-eye"
              >
                <path
                  d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"
                />
                <circle cx="12" cy="12" r="3" />
              </svg>
            </div>
          </div>

          <div class="analytics-card">
            <div class="analytics-content">
              <div class="analytics-info">
                <p class="analytics-label">Completions</p>
                <p class="analytics-value">
                  {{ analytics.courseCompletions | number }}
                </p>
              </div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#5BCBF1"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-circle-check-big-icon lucide-circle-check-big"
              >
                <path d="M21.801 10A10 10 0 1 1 17 3.335" />
                <path d="m9 11 3 3L22 4" />
              </svg>
            </div>
          </div>

          <div class="analytics-card">
            <div class="analytics-content">
              <div class="analytics-info">
                <p class="analytics-label">Avg Rating</p>
                <p class="analytics-value">{{ analytics.averageRating }}</p>
              </div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#5BCBF1"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-star-icon lucide-star"
              >
                <path
                  d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"
                />
              </svg>
            </div>
          </div>

          <div class="analytics-card">
            <div class="analytics-content">
              <div class="analytics-info">
                <p class="analytics-label">Response Rate</p>
                <p class="analytics-value">{{ analytics.responseRate }}%</p>
              </div>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="36"
                height="36"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#5BCBF1"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-message-circle-icon lucide-message-circle"
              >
                <path
                  d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"
                />
              </svg>
            </div>
          </div>
        </div>

        <div class="chart-card">
          <h3>Weekly Performance</h3>
          <div class="chart-container">
            <div class="chart-bars">
              <div
                *ngFor="let stat of analytics.weeklyStats"
                class="chart-bar-container"
              >
                <div
                  class="chart-bar"
                  [style.height.%]="getBarHeight(stat.students)"
                ></div>
                <div class="chart-label">{{ stat.day }}</div>
                <div class="chart-value">{{ stat.students }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Students Tab -->
      <div *ngIf="activeTab === 'students'" class="tab-content">
        <div class="coming-soon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="#64748B"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-users-icon lucide-users"
          >
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
            <path d="M16 3.128a4 4 0 0 1 0 7.744" />
            <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
            <circle cx="9" cy="7" r="4" />
          </svg>
          <h3>Student Management</h3>
          <p>
            View and interact with your students, answer questions, and track
            their progress.
          </p>
          <button class="btn btn-primary">Coming Soon</button>
        </div>
      </div>

      <!-- Submissions Tab -->
      <div *ngIf="activeTab === 'submissions'" class="tab-content">
        <div class="submissions-header">
          <h2>Student Submissions</h2>
          <div class="submissions-stats">
            <div class="stat-item">
              <span class="stat-number">{{ getTotalSubmissions() }}</span>
              <span class="stat-label">Total Submissions</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">{{ getPendingSubmissions() }}</span>
              <span class="stat-label">Pending Review</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">{{ getGradedSubmissions() }}</span>
              <span class="stat-label">Graded</span>
            </div>
          </div>
        </div>

        <div class="submissions-content">
          <!-- Assignment List -->
          <div class="assignments-panel">
            <h3>Assignments</h3>
            <div class="assignments-list">
              <div
                *ngFor="let assignment of assignments"
                class="assignment-item"
                [class.selected]="selectedAssignment?.id === assignment.id"
                (click)="selectAssignment(assignment)"
              >
                <div class="assignment-info">
                  <h4>{{ assignment.title }}</h4>
                  <p class="course-name">{{ assignment.courseTitle }}</p>
                  <p class="due-date">
                    Due: {{ assignment.dueDate | date : "MMM d, y" }}
                  </p>
                </div>
                <div class="assignment-stats">
                  <div class="stat-badge total">
                    {{ assignment.totalSubmissions }}
                  </div>
                  <div class="stat-badge pending">
                    {{ assignment.pendingSubmissions }}
                  </div>
                  <div class="stat-badge graded">
                    {{ assignment.gradedSubmissions }}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Submissions List -->
          <div class="submissions-panel">
            <div *ngIf="!selectedAssignment" class="no-selection">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                viewBox="0 0 24 24"
                fill="none"
                stroke="#64748B"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                />
                <polyline points="14,2 14,8 20,8" />
                <line x1="16" y1="13" x2="8" y2="13" />
                <line x1="16" y1="17" x2="8" y2="17" />
                <polyline points="10,9 9,9 8,9" />
              </svg>
              <h3>Select an Assignment</h3>
              <p>
                Choose an assignment from the list to view student submissions.
              </p>
            </div>

            <div *ngIf="selectedAssignment" class="submissions-list">
              <div class="submissions-header-info">
                <h3>{{ selectedAssignment.title }}</h3>
                <p>{{ filteredSubmissions.length }} submissions</p>
              </div>

              <div
                *ngFor="let submission of filteredSubmissions"
                class="submission-item"
              >
                <div class="student-info">
                  <div class="student-avatar">
                    <img
                      *ngIf="submission.studentAvatar"
                      [src]="submission.studentAvatar"
                      [alt]="submission.studentName"
                    />
                    <div
                      *ngIf="!submission.studentAvatar"
                      class="avatar-fallback"
                    >
                      {{ getInitials(submission.studentName) }}
                    </div>
                  </div>
                  <div class="student-details">
                    <h4>{{ submission.studentName }}</h4>
                    <p class="submission-date">
                      {{ submission.submittedAt | date : "MMM d, y h:mm a" }}
                    </p>
                  </div>
                </div>

                <div class="submission-info">
                  <div class="submission-type">
                    <svg
                      *ngIf="submission.submissionType === 'text'"
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                      />
                      <polyline points="14,2 14,8 20,8" />
                      <line x1="16" y1="13" x2="8" y2="13" />
                      <line x1="16" y1="17" x2="8" y2="17" />
                      <polyline points="10,9 9,9 8,9" />
                    </svg>
                    <svg
                      *ngIf="submission.submissionType === 'file'"
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
                      />
                      <polyline points="14,2 14,8 20,8" />
                    </svg>
                    <svg
                      *ngIf="submission.submissionType === 'both'"
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"
                      />
                      <polyline points="14,2 14,8 20,8" />
                      <path d="M2 13v-1a2 2 0 0 1 2-2h7" />
                    </svg>
                    <span>{{ submission.submissionType | titlecase }}</span>
                  </div>

                  <div class="submission-status">
                    <span
                      class="status-badge"
                      [style.background-color]="
                        getStatusColor(submission.status)
                      "
                    >
                      {{ submission.status | titlecase }}
                    </span>
                  </div>

                  <div
                    *ngIf="submission.grade !== undefined"
                    class="submission-grade"
                  >
                    {{ submission.grade }}/{{ submission.maxGrade }}
                  </div>
                </div>

                <div class="submission-actions">
                  <button
                    class="btn btn-outline btn-sm"
                    (click)="viewSubmission(submission)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"
                      />
                      <circle cx="12" cy="12" r="3" />
                    </svg>
                    View
                  </button>
                  <button
                    *ngIf="submission.status !== 'graded'"
                    class="btn btn-primary btn-sm"
                    (click)="openGradingModal(submission)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"
                      />
                      <path d="m15 5 4 4" />
                    </svg>
                    Grade
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Submission Detail Modal -->
      <div
        *ngIf="selectedSubmission"
        class="modal-overlay"
        (click)="selectedSubmission = null"
      >
        <div class="modal-content" (click)="$event.stopPropagation()">
          <div class="modal-header">
            <h3>{{ selectedSubmission.assignmentTitle }}</h3>
            <button class="modal-close" (click)="selectedSubmission = null">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M18 6L6 18" />
                <path d="M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div class="modal-body">
            <div class="submission-meta">
              <div class="student-info">
                <div class="student-avatar">
                  <img
                    *ngIf="selectedSubmission.studentAvatar"
                    [src]="selectedSubmission.studentAvatar"
                    [alt]="selectedSubmission.studentName"
                  />
                  <div
                    *ngIf="!selectedSubmission.studentAvatar"
                    class="avatar-fallback"
                  >
                    {{ getInitials(selectedSubmission.studentName) }}
                  </div>
                </div>
                <div>
                  <h4>{{ selectedSubmission.studentName }}</h4>
                  <p>
                    Submitted:
                    {{
                      selectedSubmission.submittedAt | date : "MMM d, y h:mm a"
                    }}
                  </p>
                </div>
              </div>

              <div
                class="submission-grade-info"
                *ngIf="selectedSubmission.grade !== undefined"
              >
                <div class="grade-display">
                  {{ selectedSubmission.grade }}/{{
                    selectedSubmission.maxGrade
                  }}
                </div>
              </div>
            </div>

            <div *ngIf="selectedSubmission.textContent" class="text-submission">
              <h4>Text Submission</h4>
              <div class="text-content">
                {{ selectedSubmission.textContent }}
              </div>
            </div>

            <div
              *ngIf="
                selectedSubmission.files && selectedSubmission.files.length > 0
              "
              class="file-submission"
            >
              <h4>File Attachments</h4>
              <div class="file-list">
                <div
                  *ngFor="let file of selectedSubmission.files"
                  class="file-item"
                >
                  <div class="file-info">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path
                        d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
                      />
                      <polyline points="14,2 14,8 20,8" />
                    </svg>
                    <div>
                      <div class="file-name">{{ file.name }}</div>
                      <div class="file-size">
                        {{ formatFileSize(file.size) }}
                      </div>
                    </div>
                  </div>
                  <button
                    class="btn btn-outline btn-sm"
                    (click)="downloadFile(file)"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    >
                      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                      <polyline points="7,10 12,15 17,10" />
                      <line x1="12" y1="15" x2="12" y2="3" />
                    </svg>
                    Download
                  </button>
                </div>
              </div>
            </div>

            <div *ngIf="selectedSubmission.feedback" class="feedback-section">
              <h4>Feedback</h4>
              <div class="feedback-content">
                {{ selectedSubmission.feedback }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Grading Modal -->
      <div
        *ngIf="showGradingModal"
        class="modal-overlay"
        (click)="closeGradingModal()"
      >
        <div
          class="modal-content grading-modal"
          (click)="$event.stopPropagation()"
        >
          <div class="modal-header">
            <h3>Grade Submission</h3>
            <button class="modal-close" (click)="closeGradingModal()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M18 6L6 18" />
                <path d="M6 6l12 12" />
              </svg>
            </button>
          </div>

          <div class="modal-body">
            <div class="grading-form">
              <div class="form-group">
                <label for="grade"
                  >Grade (out of {{ selectedSubmission?.maxGrade }})</label
                >
                <input
                  type="number"
                  id="grade"
                  [(ngModel)]="gradingForm.grade"
                  [max]="selectedSubmission?.maxGrade || 100"
                  min="0"
                  class="form-input"
                />
              </div>

              <div class="form-group">
                <label for="feedback">Feedback</label>
                <textarea
                  id="feedback"
                  [(ngModel)]="gradingForm.feedback"
                  rows="4"
                  class="form-textarea"
                  placeholder="Provide feedback for the student..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button class="btn btn-outline" (click)="closeGradingModal()">
                  Cancel
                </button>
                <button class="btn btn-primary" (click)="submitGrade()">
                  Submit Grade
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
