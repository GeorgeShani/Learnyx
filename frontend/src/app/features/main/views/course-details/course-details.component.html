<div class="course-detail-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-content">
      <div class="course-info">
        <div class="course-header">
          <div class="bestseller-badge" *ngIf="course.bestseller">
            üèÜ Bestseller
          </div>
          <h1 class="course-title">{{ course.title }}</h1>
          <p class="course-subtitle">{{ course.subtitle }}</p>
        </div>

        <!-- Stats -->
        <div class="course-stats">
          <div class="stat-item">
            <svg class="star-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            <span class="rating">{{ course.rating }}</span>
            <span class="review-count">({{ course.reviewCount | number }} reviews)</span>
          </div>
          <div class="stat-item">
            <svg class="users-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            <span>{{ course.students | number }} students</span>
          </div>
          <div class="stat-item">
            <svg class="clock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12,6 12,12 16,14"/>
            </svg>
            <span>{{ course.duration }} total</span>
          </div>
          <div class="stat-item">
            <svg class="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polygon points="10,8 16,12 10,16 10,8"/>
            </svg>
            <span>{{ course.lessons }} lectures</span>
          </div>
          <div class="stat-item">
            <svg class="globe-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="2" y1="12" x2="22" y2="12"/>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
            <span>{{ course.language }}</span>
          </div>
        </div>

        <!-- Tags -->
        <div class="course-tags">
          <span class="tag" *ngFor="let tag of course.tags">{{ tag }}</span>
        </div>

        <!-- Instructor -->
        <div class="instructor-card">
          <div class="instructor-avatar">
            <img [src]="course.instructor.avatar" [alt]="course.instructor.name">
          </div>
          <div class="instructor-info">
            <p class="instructor-label">Instructor</p>
            <h3 class="instructor-name">{{ course.instructor.name }}</h3>
            <p class="instructor-title">{{ course.instructor.title }}</p>
          </div>
        </div>
      </div>

      <!-- Course Preview Card -->
      <div class="preview-card">
        <div class="preview-content">
          <!-- Preview Image/Video -->
          <div class="preview-media">
            <img [src]="course.previewVideo" alt="Course preview" class="preview-image">
            <div class="preview-overlay">
              <div class="play-button">
                <svg class="play-icon-large" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"/>
                  <polygon points="10,8 16,12 10,16 10,8"/>
                </svg>
              </div>
            </div>
            <div class="preview-badge">Preview</div>
          </div>

          <div class="card-content">
            <!-- Price -->
            <div class="price-section">
              <div class="price-display">
                <span class="current-price">${{ course.price }}</span>
                <span class="original-price">${{ course.originalPrice }}</span>
                <span class="discount-badge">
                  {{ getDiscountPercentage() }}% off
                </span>
              </div>
              <p class="guarantee-text">30-day money-back guarantee</p>
            </div>

            <!-- CTA Buttons -->
            <div class="cta-buttons">
              <button class="enroll-button" (click)="toggleEnrollment()">
                {{ isEnrolled ? 'Go to Course' : 'Enroll Now' }}
              </button>
              <button class="wishlist-button">
                <svg class="heart-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
                Add to Wishlist
              </button>
            </div>

            <!-- Features -->
            <div class="features-list">
              <div class="feature-item">
                <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
                </svg>
                <span>Full lifetime access</span>
              </div>
              <div class="feature-item">
                <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="8" r="7"/>
                  <polyline points="8.21,13.89 7,23 12,20 17,23 15.79,13.88"/>
                </svg>
                <span>Certificate of completion</span>
              </div>
              <div class="feature-item">
                <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                  <polyline points="7,10 12,15 17,10"/>
                  <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                <span>Downloadable resources</span>
              </div>
              <div class="feature-item">
                <svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                <span>30-day money back guarantee</span>
              </div>
            </div>

            <!-- Share -->
            <div class="share-section">
              <span class="share-label">Share this course</span>
              <div class="share-buttons">
                <button class="share-button">
                  <svg class="share-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
                    <polyline points="16,6 12,2 8,6"/>
                    <line x1="12" y1="2" x2="12" y2="15"/>
                  </svg>
                </button>
                <button class="flag-button">
                  <svg class="flag-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
                    <line x1="4" y1="22" x2="4" y2="15"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Course Content -->
  <div class="course-content">
    <div class="content-grid">
      <div class="main-content">
        <!-- Tabs -->
        <div class="tabs-container">
          <div class="tabs-list">
            <button 
              class="tab-trigger" 
              [class.active]="activeTab === 'overview'"
              (click)="setActiveTab('overview')"
            >
              Overview
            </button>
            <button 
              class="tab-trigger" 
              [class.active]="activeTab === 'curriculum'"
              (click)="setActiveTab('curriculum')"
            >
              Curriculum
            </button>
            <button 
              class="tab-trigger" 
              [class.active]="activeTab === 'instructor'"
              (click)="setActiveTab('instructor')"
            >
              Instructor
            </button>
            <button 
              class="tab-trigger" 
              [class.active]="activeTab === 'reviews'"
              (click)="setActiveTab('reviews')"
            >
              Reviews
            </button>
          </div>

          <!-- Overview Tab -->
          <div class="tab-content" *ngIf="activeTab === 'overview'">
            <!-- About Course -->
            <div class="content-card">
              <h3 class="card-title">About this course</h3>
              <div class="course-description">
                <p>{{ course.description }}</p>
              </div>
            </div>

            <!-- What You'll Learn -->
            <div class="content-card">
              <h3 class="card-title">What you'll learn</h3>
              <div class="learning-outcomes">
                <div class="outcome-item" *ngFor="let item of course.whatYoullLearn">
                  <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22,4 12,14.01 9,11.01"/>
                  </svg>
                  <span>{{ item }}</span>
                </div>
              </div>
            </div>

            <!-- Requirements -->
            <div class="content-card">
              <h3 class="card-title">Requirements</h3>
              <ul class="requirements-list">
                <li class="requirement-item" *ngFor="let req of course.requirements">
                  <svg class="target-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="6"/>
                    <circle cx="12" cy="12" r="2"/>
                  </svg>
                  <span>{{ req }}</span>
                </li>
              </ul>
            </div>
          </div>

          <!-- Curriculum Tab -->
          <div class="tab-content" *ngIf="activeTab === 'curriculum'">
            <div class="content-card">
              <div class="curriculum-header">
                <h3 class="card-title">Course curriculum</h3>
                <div class="curriculum-stats">
                  {{ course.lessons }} lectures ‚Ä¢ {{ course.duration }}
                </div>
              </div>

              <div class="curriculum-sections">
                <div class="curriculum-section" *ngFor="let section of course.curriculum">
                  <div class="section-header">
                    <h4 class="section-title">{{ section.section }}</h4>
                    <div class="section-stats">
                      {{ section.lectures }} lectures ‚Ä¢ {{ section.duration }}
                    </div>
                  </div>
                  <div class="section-lessons">
                    <div class="lesson-item" *ngFor="let lesson of section.lessons">
                      <div class="lesson-info">
                        <svg class="play-icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <circle cx="12" cy="12" r="10"/>
                          <polygon points="10,8 16,12 10,16 10,8"/>
                        </svg>
                        <span class="lesson-title">{{ lesson.title }}</span>
                        <span class="free-badge" *ngIf="lesson.free">FREE</span>
                      </div>
                      <span class="lesson-duration">{{ lesson.duration }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Instructor Tab -->
          <div class="tab-content" *ngIf="activeTab === 'instructor'">
            <div class="content-card">
              <div class="instructor-profile">
                <div class="instructor-avatar-large">
                  <img [src]="course.instructor.avatar" [alt]="course.instructor.name">
                </div>
                
                <div class="instructor-details">
                  <div class="instructor-header">
                    <h3 class="instructor-name-large">{{ course.instructor.name }}</h3>
                    <p class="instructor-title-large">{{ course.instructor.title }}</p>
                  </div>

                  <div class="instructor-stats">
                    <div class="stat-box">
                      <div class="stat-value">{{ course.instructor.rating }}</div>
                      <div class="stat-label">Rating</div>
                    </div>
                    <div class="stat-box">
                      <div class="stat-value">{{ (course.instructor.students / 1000) | number:'1.0-0' }}K</div>
                      <div class="stat-label">Students</div>
                    </div>
                    <div class="stat-box">
                      <div class="stat-value">{{ course.instructor.courses }}</div>
                      <div class="stat-label">Courses</div>
                    </div>
                    <div class="stat-box">
                      <div class="stat-value">8+</div>
                      <div class="stat-label">Years Exp.</div>
                    </div>
                  </div>

                  <p class="instructor-bio">{{ course.instructor.bio }}</p>
                  
                  <button class="message-button">
                    <svg class="message-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                    Message Instructor
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Reviews Tab -->
          <div class="tab-content" *ngIf="activeTab === 'reviews'">
            <div class="content-card">
              <div class="reviews-header">
                <h3 class="card-title">Student reviews</h3>
                <div class="reviews-rating">
                  <svg class="star-icon-large" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  <span class="rating-value">{{ course.rating }}</span>
                  <span class="rating-count">({{ course.reviewCount | number }} reviews)</span>
                </div>
              </div>

              <div class="reviews-list">
                <div class="review-item" *ngFor="let review of course.reviews">
                  <div class="review-avatar">
                    <img [src]="review.avatar" [alt]="review.user">
                  </div>
                  <div class="review-content">
                    <div class="review-header">
                      <div class="review-user-info">
                        <h4 class="review-user">{{ review.user }}</h4>
                        <div class="review-rating">
                          <svg 
                            class="star-icon-small" 
                            *ngFor="let star of getStarArray(5); let i = index"
                            [class.filled]="i < review.rating"
                            viewBox="0 0 24 24" 
                            fill="currentColor"
                          >
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                          </svg>
                        </div>
                      </div>
                      <span class="review-date">{{ review.date }}</span>
                    </div>
                    <p class="review-text">{{ review.content }}</p>
                  </div>
                </div>
              </div>

              <div class="show-more-reviews">
                <button class="show-more-button">Show More Reviews</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Course Stats -->
        <div class="sidebar-card">
          <h3 class="sidebar-title">Course Details</h3>
          <div class="course-details">
            <div class="detail-row">
              <span class="detail-label">Level</span>
              <span class="detail-badge">{{ course.level }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Duration</span>
              <span class="detail-value">{{ course.duration }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Lectures</span>
              <span class="detail-value">{{ course.lessons }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Language</span>
              <span class="detail-value">{{ course.language }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Last Updated</span>
              <span class="detail-value">{{ course.lastUpdated }}</span>
            </div>
          </div>
        </div>

        <!-- Related Courses -->
        <div class="sidebar-card">
          <h3 class="sidebar-title">Related Courses</h3>
          <div class="related-courses">
            <a class="related-course" *ngFor="let course of relatedCourses" [routerLink]="['/courses', course.id]">
              <img [src]="course.image" [alt]="course.title" class="related-course-image">
              <div class="related-course-info">
                <h4 class="related-course-title">{{ course.title }}</h4>
                <div class="related-course-meta">
                  <svg class="star-icon-tiny" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  <span class="related-rating">{{ course.rating }}</span>
                  <span class="related-separator">‚Ä¢</span>
                  <span class="related-price">${{ course.price }}</span>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
